extends layout

block content
  h1(style="color:#7adeb2") CongratulationsğŸ‰
  div()#downloadBtn.download-btn 
    span ä¸‹è½½æ–‡ä»¶
    span#fileName #{fileName}
  div()#backUpload.download-btn 
    a(href='/',style="color:#fff") ç»§ç»­è½¬åŒ–

  script.
      const downloadBtn = document.querySelector('#downloadBtn')
      const name = document.querySelector('#fileName').innerText
      downloadBtn.addEventListener('click', (e) => {
        fetch(`./downloadPdf?fileName=${name}`).then(rs => {
          return rs.blob()
        }).then(blob => {
          // å»æ‰æ–‡ä»¶åä¸­çš„æ—¶é—´æˆ³
          const originName = name.split('_')[1]
          const a = document.createElement('a')
          a.href = URL.createObjectURL(blob)
          a.download = originName
          a.click()
        })
      })
